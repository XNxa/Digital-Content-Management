<div class="header">
    <h1>Web / Images</h1>
    <app-icon-text-button title="Importer un fichier" icon="upload" (click)="isDialogOpen = true"></app-icon-text-button>
</div>

@if (isDialogOpen) {
    <app-upload-dialog (closeDialog)="isDialogOpen = false"></app-upload-dialog>
}

<div class="search-area"> <!-- TODO : Add other fields -->
    <app-input class="search-element" label="ID du fichier" placeholder="ID 0000" [border]="false"></app-input>
    <app-select class="search-element" label="Mots-ClÃ©s" placeholder="Selectionnez / saisissez des tags" [border]="false"></app-select>
    <app-select class="search-element" label="Statut" placeholder="Selectionnez un statut" [border]="false"></app-select>
</div>

<div class="header">
    <h2>{{viewtitle}}</h2>
    <div class="action-buttons">
        <app-icon-button color='white' icon="update"></app-icon-button>
        <app-icon-button color='white' icon="checkbox"></app-icon-button>
        <app-icon-button [color]="(gridlayout)?'clearblue':'white'" icon="card" (click)="onGridClicked()"></app-icon-button>
        <app-icon-button [color]="(gridlayout)?'white':'clearblue'" icon="list" (click)="onListClicked()"></app-icon-button>
    </div>
</div>

<div class="file-grid">
    @if (gridlayout) {
    @for (file of files; track $index) {
    <app-filecard [filename]="file.filename" [filetype]="file.type" [filesize]="(file.size / 1_000_000).toString() + ' MB'"
        [filedate]="file.date" [filestatus]="file.status"></app-filecard>
    }
    } @else {
    <app-table
        class="table"
        [columns]="[{header: 'NAME', field: 'filename'}, {header: 'TYPE', field: 'type'}, {header: 'SIZE', field: 'size'}, {header: 'DATE', field: 'date'}]"
        [data]="files"
        ></app-table>
    }
</div>

<div class="footer">
    <app-page-selector [totalItems]="100" [itemsPerPage]="10" (pageChange)="onPageChange($event)"></app-page-selector>
</div>